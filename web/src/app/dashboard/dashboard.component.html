<!-- Skeleton Loading State -->
<div class="dashboard-container" *ngIf="isLoading && !summary">
  <div class="grid-container">
    <mat-card class="dashboard-card skeleton-card" *ngFor="let i of [1,2,3,4]">
      <mat-card-header>
        <div class="skeleton skeleton-title"></div>
        <div class="skeleton skeleton-subtitle"></div>
      </mat-card-header>
      <mat-card-content>
        <div class="skeleton skeleton-metric"></div>
        <div class="skeleton skeleton-sub"></div>
      </mat-card-content>
    </mat-card>
  </div>
</div>

<!-- Loaded State -->
<div class="dashboard-container" *ngIf="summary">
  <div class="grid-container">
    <mat-card class="dashboard-card">
      <mat-card-header>
        <mat-card-title>Nodes</mat-card-title>
        <mat-card-subtitle>Cluster Capacity</mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <div class="metric-value">{{ summary.totalNodes }}</div>
        <div class="metric-sub">Healthy: {{ summary.healthyNodes }}</div>
      </mat-card-content>
    </mat-card>

    <mat-card class="dashboard-card">
      <mat-card-header>
        <mat-card-title>GPUs</mat-card-title>
        <mat-card-subtitle>Resource Usage</mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <div class="metric-value">{{ summary.totalGPUs }}</div>
        <div class="metric-sub">Allocated: {{ summary.allocatedGPUs }}</div>
      </mat-card-content>
    </mat-card>

    <mat-card class="dashboard-card">
      <mat-card-header>
        <mat-card-title>Queues</mat-card-title>
        <mat-card-subtitle>Resource Pools</mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <div class="metric-value">{{ summary.totalQueues }}</div>
        <div class="metric-sub">Active queues</div>
      </mat-card-content>
    </mat-card>

    <mat-card class="dashboard-card chart-card">
      <mat-card-header>
        <mat-card-title>Job Distribution</mat-card-title>
        <mat-card-subtitle>By Status</mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <app-job-donut-chart [jobCounts]="summary.jobCounts"></app-job-donut-chart>
      </mat-card-content>
    </mat-card>
  </div>
</div>